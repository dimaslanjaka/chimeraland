const e=document.querySelector("#a-tbl"),t=document.querySelector("#p-tbl");function o(){return fetch(n()).then((e=>e.json())).then((e=>e))}function n(){return"//backend.webmanajemen.com/chimeraland/attendant.php?show="+(new Date).getTime()}function a(e,t){if(!Array.isArray(e))throw new Error("array param must be instance of ARRAY");return e.filter(((o,n)=>e.findIndex((e=>o[t]===e[t]))===n))}function r(e){return new Promise((t=>{const o=e||window.location.hash.split("#")[1]||null;if(!o)return console.log("[scroll] empty id");const n="[id*='"+o+"']",a=document.querySelector(n);if(a.scrollIntoView(!0),!a)return console.log("[scroll] empty target element with id="+o);console.log("[scroll] to #"+o);"netscape"in window&&/ rv:/.test(navigator.userAgent)?a.scrollIntoView({block:"center"}):window.scroll({top:a.offsetTop,left:0,behavior:"smooth"}),t({offset:a.offsetTop,id:o,selector:n})}))}"cdpn.io"===location.host&&console.clear(),window.onload=function(){o().then((e=>(e.data=a(e.data,"name"),e))).then((t=>{const o=t.data;let n=[];o.forEach((e=>{let t=[];Object.keys(e).forEach((o=>{let n=e[o];"qty"===o&&(o="Quality"),"delicacies"===o&&(n=n.map((e=>{const t=e.replace("-","").toLowerCase();return`<a href='/chimeraland/Recipes.html?query=${t}'>${t}</a><span class='mr-2'>,</span>`})),n=n.join("")),Array.isArray(n)&&(n=n.join(", ")),o=o.toUpperCase(),t.push(`<tr><td>${o}</td><td>${n}</td></tr>`)}));const o=e.name.replace(/\s+/gm,"-").replace(/-+/gm,"-").toLowerCase(),a=`<div class="d-flex justify-content-between"><div id='${o}'><h3>${e.name}</h3></div><div><a href="#${o}">${o}</a></div></div>`;n.push({header:a,items:t.join("")})})),n=n.map((e=>e.header+"<table class='table'><thead><tr><th>Name</th><th>Value</th></thead><tbody>"+e.items+"</tbody></table>")),e.innerHTML=n.join(""),console.log("attendant updated successfully")})).then((()=>{r().then((e=>{setTimeout((()=>{r().then((t=>{console.log(e,t)}))}),3e3)}))}))};